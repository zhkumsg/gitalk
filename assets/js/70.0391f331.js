(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{150:function(e,v,_){"use strict";_.r(v);var t=_(0),a=Object(t.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"webpack-2-x-升级到-4-x"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#webpack-2-x-升级到-4-x"}},[e._v("#")]),e._v(" webpack 2.x 升级到 4.x")]),e._v(" "),_("p",[e._v("webpack 迁移带来的 2.x 和 4.x 的差异，升级后配置更加简单清晰")]),e._v(" "),_("p",[e._v("近期把 webpack 2.x 的升级到 4.x，结果发现需要改动不少配置，但总体来说比较容易，一句话来说")]),e._v(" "),_("p",[_("strong",[e._v("哪里异常改哪里")])]),e._v(" "),_("p",[e._v("首先把"),_("code",[e._v("node_modules")]),e._v("依赖全部删除，免得后面影响下载")]),e._v(" "),_("p",[e._v("接着备份 package.json 文件，把 "),_("code",[e._v("dependencies")]),e._v(" 和 "),_("code",[e._v("devDependencies")]),e._v(" 先删除")]),e._v(" "),_("p",[e._v("再然后，优先 "),_("code",[e._v("install webpack")]),e._v(",然后再依次按照后面的依赖，这样就能做到自动安装合适版本的依赖")]),e._v(" "),_("p",[e._v("最后，全部依赖安装完后，启动项目，按照提示修改配置")]),e._v(" "),_("h2",{attrs:{id:"差异的地方"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#差异的地方"}},[e._v("#")]),e._v(" 差异的地方")]),e._v(" "),_("ol",[_("li",[_("p",[e._v("需要添加 "),_("code",[e._v("mode")]),e._v(" 属性了,4.x 后为必填")])]),e._v(" "),_("li",[_("p",[_("code",[e._v("webpack-cli")]),e._v(" 从 webpack 中抽离了，需要单独安装")])]),e._v(" "),_("li",[_("p",[_("code",[e._v("CommonChunkPlugin")]),e._v(" 被替换成了 "),_("code",[e._v("optimization.splitChunk")])])]),e._v(" "),_("li",[_("p",[e._v("js 压缩在生产模式下是默认的")])]),e._v(" "),_("li",[_("p",[e._v("rules 的 loader 需要升级（如抽离 css 需要使用 beta 版，或使用 mini-css-extract-plugin）")])])]),e._v(" "),_("p",[e._v("https://juejin.im/post/5ba44831f265da0ac8493210")])])}),[],!1,null,null,null);v.default=a.exports}}]);