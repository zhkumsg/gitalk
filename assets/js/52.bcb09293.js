(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{172:function(t,a,e){"use strict";e.r(a);var s=e(0),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"前端监控三部曲之数据埋点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前端监控三部曲之数据埋点"}},[t._v("#")]),t._v(" 前端监控三部曲之数据埋点")]),t._v(" "),e("blockquote",[e("p",[t._v("获取用户基本信息、行为以及跟踪产品在用户端的使用情况，并以监控数据为基础，指明产品优化的方向")])]),t._v(" "),e("p",[e("em",[t._v("三部曲：数据埋点、性能监控、异常监控")])]),t._v(" "),e("h2",{attrs:{id:"主要思路"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主要思路"}},[t._v("#")]),t._v(" 主要思路")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("1. （何人）什么人\n\n2. （何时）在什么时候\n\n3. （何地）在什么地方\n\n4. （How）通过什么方式\n\n5. （何事）干了什么事\n")])])]),e("h2",{attrs:{id:"前端埋点方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前端埋点方式"}},[t._v("#")]),t._v(" 前端埋点方式")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("方式")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("优点")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("缺点")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("代码埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("可自定义属性，自定义事件/可以细化需求/相比其他埋点方式减少服务器压力（使用 vue 指令）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("工程量大的话，手动埋点会出现疏漏，不方便审查 / 需求变更要重新埋点，成本高 / 每次需求变更都要重新发布版本，对线上系统稳定性有一定危害")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("全埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("前端只要一次加载埋点脚本")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("服务器性能压力大")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("可视化埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("前端只要一次加载埋点脚本 ,可视化配置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("服务器性能压力大")])])])]),t._v(" "),e("h3",{attrs:{id:"代码埋点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#代码埋点"}},[t._v("#")]),t._v(" 代码埋点")]),t._v(" "),e("h4",{attrs:{id:"手动埋点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#手动埋点"}},[t._v("#")]),t._v(" 手动埋点")]),t._v(" "),e("p",[t._v("命令埋点，前端代码中需要监控的地方插入监控逻辑")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 页面加载时发送埋点请求")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... 这里存在一些业务逻辑")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendRequest")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 按钮点击时发送埋点请求")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("click")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  这里存在一些业务逻辑")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendRequest")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h4",{attrs:{id:"声明式埋点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#声明式埋点"}},[t._v("#")]),t._v(" 声明式埋点")]),t._v(" "),e("p",[t._v("声明式埋点的思路是将埋点代码和具体的交互和业务逻辑解耦，开发者只用关心需要埋点的控件，并且为这些控件声明需要的埋点数据即可，从而降低埋点的成本 ，在 dom 元素上增添埋点信息")]),t._v(" "),e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- key表示埋点的唯一标识；act表示埋点方式 --\x3e")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-stat")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{key:'111', act: 'click'}"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("埋点"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("p",[e("code",[t._v("优点")]),t._v("：可以在任意时刻，精确的发送或保存所需要的数据信息，让使用者可以方便地设置自定义属性、自定义事件（"),e("em",[t._v("对前端框架 Vue 使用指令属性可快速封装")]),t._v("）；")]),t._v(" "),e("p",[e("code",[t._v("缺点")]),t._v("：项目工程量大，需要埋点的位置太多，而且需要产品开发运营之间相互反复沟通，容易出现手动差错，如果错误，重新埋点的成本也很高。这会导致整个数据收集周期变的很长，收集成本变的很高，而且效率很低。因为手动埋点需要开发人员完成，所以每次有埋点更新，或者漏埋点，都需要重新走上线发布流程，更新成本也高，对线上系统稳定性也有一定危害；")]),t._v(" "),e("h3",{attrs:{id:"全埋点-无埋点-自动埋点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#全埋点-无埋点-自动埋点"}},[t._v("#")]),t._v(" 全埋点/无埋点/自动埋点")]),t._v(" "),e("p",[t._v("又叫无埋点，无埋点并不是没有任何埋点，所谓无只是不需要工程师在业务代码里面插入侵入式的代码。只需要简单的加载了一段定义好的 SDK 代码，技术门槛更低，使用与部署也简单，避免了需求变更，埋点错误导致的重新埋点,")]),t._v(" "),e("p",[e("code",[t._v("优点")]),t._v("：不需要关注埋点逻辑的，也不会出现漏埋、误埋等现象，前端只要一次加载埋点脚本，解决数据 "),e("code",[t._v("回溯")]),t._v(" 问题上更有优势；")]),t._v(" "),e("p",[e("code",[t._v("缺点")]),t._v("：自定义属性不灵活，传输时效性差，数据可靠性欠佳，耗费网络流量，还会增加服务器负载，而且兼容性也不佳；")]),t._v(" "),e("h3",{attrs:{id:"可视化埋点-无痕埋点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#可视化埋点-无痕埋点"}},[t._v("#")]),t._v(" 可视化埋点/无痕埋点")]),t._v(" "),e("p",[t._v("运营通过可视化的界面拖拽配置实现，这些活动控件元素都带有唯一标识。通过埋点配置后台，将元素与要采集事件关联起来，可以自动生成埋点代码嵌入到页面中")]),t._v(" "),e("p",[t._v("业内开源解决方案："),e("code",[t._v("Mixpanel")])]),t._v(" "),e("p",[e("code",[t._v("可视化埋点配置化能力相对手动埋点更强，是对手动埋点的补充而不是代替，很多手动埋点点都可以通过好的规划和架构变为可视化埋点")])]),t._v(" "),e("p",[e("strong",[t._v("在实际项目中考虑到上报数据的灵活定制，以及减少数据传输和服务器的压力，在所需埋点处不多的情况下，常用的方式是代码埋点")])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"市面上较成熟的埋点平台"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#市面上较成熟的埋点平台"}},[t._v("#")]),t._v(" 市面上较成熟的埋点平台")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("平台")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("官网")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("埋点方式")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("私有化部署")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否开源")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否收费")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("阿里 UC/岳鹰全景监控")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("https://yueying.effirst.com")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("全埋点 + 代码埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("腾讯/天机阁")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("神策数据")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("https://www.sensorsdata.cn")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("全埋点 + 代码埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("诸葛 io")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("https://zhugeio.com")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("代码埋点 + 全埋点 + 可视化埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("百度统计（分析云）")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("https://tongji.baidu.com")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("全埋点 + 代码埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否（除分析云）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("友盟统计")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("https://www.umeng.com")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("全埋点 + 代码埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否（除行为分析外）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Google Analytics (GA)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("https://developers.google.com/analytics?hl=zh-cn")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("全埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否（免费版）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Mixpanel")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("https://mixpanel.com")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("可视化埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否（免费版）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("GrowingIo")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("https://www.growingio.com")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("全埋点 + 代码埋点")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("不支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")])])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("各平台的使用可以简单总结为：\n\n1、注册应用 / 网站\n2、引入 SDK\n3、完成基础数据接入（访客 PV/UV、页面访问 UV/PV）\n4、用户行为数据上报（元素点击等）\n5、支持API查询相关数据\n")])])]),e("h2",{attrs:{id:"相关术语"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#相关术语"}},[t._v("#")]),t._v(" 相关术语")]),t._v(" "),e("h3",{attrs:{id:"用户模型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户模型"}},[t._v("#")]),t._v(" 用户模型")]),t._v(" "),e("h4",{attrs:{id:"访问用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问用户"}},[t._v("#")]),t._v(" 访问用户")]),t._v(" "),e("p",[t._v("访问用户是应用（包括网页、App、微信小程序等，下同）的用户的一种识别机制。")]),t._v(" "),e("p",[t._v("每一个访问应用的用户都会在对应的设备中生成并记录一个唯一的 ID，称之为访问用户 ID。")]),t._v(" "),e("h4",{attrs:{id:"登录用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#登录用户"}},[t._v("#")]),t._v(" 登录用户")]),t._v(" "),e("p",[t._v("登录用户是访问用户绑定到业务系统账号的一个机制，类似于单点登录后的用户")]),t._v(" "),e("h3",{attrs:{id:"事件模型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件模型"}},[t._v("#")]),t._v(" 事件模型")]),t._v(" "),e("h4",{attrs:{id:"用户设备信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户设备信息"}},[t._v("#")]),t._v(" 用户设备信息")]),t._v(" "),e("ul",[e("li",[t._v("操作系统及版本")]),t._v(" "),e("li",[t._v("设备品牌")]),t._v(" "),e("li",[t._v("设备型号")]),t._v(" "),e("li",[t._v("设备类型（手机/平板）")]),t._v(" "),e("li",[t._v("设备制造商")]),t._v(" "),e("li",[t._v("浏览器及版本")]),t._v(" "),e("li",[t._v("系统语言")]),t._v(" "),e("li",[t._v("屏幕大小")]),t._v(" "),e("li",[t._v("设备方向")])]),t._v(" "),e("h4",{attrs:{id:"用户位置信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户位置信息"}},[t._v("#")]),t._v(" 用户位置信息")]),t._v(" "),e("ul",[e("li",[t._v("国家、地区、城市名称")]),t._v(" "),e("li",[t._v("国家代码")])]),t._v(" "),e("h4",{attrs:{id:"用户访问的应用信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户访问的应用信息"}},[t._v("#")]),t._v(" 用户访问的应用信息")]),t._v(" "),e("ul",[e("li",[t._v("网站/手机应用")]),t._v(" "),e("li",[t._v("App 版本")])]),t._v(" "),e("h4",{attrs:{id:"用户访问页面信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户访问页面信息"}},[t._v("#")]),t._v(" 用户访问页面信息")]),t._v(" "),e("ul",[e("li",[t._v("域名")]),t._v(" "),e("li",[t._v("页面")]),t._v(" "),e("li",[t._v("访问来源")]),t._v(" "),e("li",[t._v("页面来源")])]),t._v(" "),e("h4",{attrs:{id:"用户动作事件信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户动作事件信息"}},[t._v("#")]),t._v(" 用户动作事件信息")]),t._v(" "),e("ul",[e("li",[t._v("点击了一个页面元素")]),t._v(" "),e("li",[t._v("浏览了一个页面元素")]),t._v(" "),e("li",[t._v("提交了一个表单")]),t._v(" "),e("li",[t._v("修改了某个输入框")])]),t._v(" "),e("h2",{attrs:{id:"思-考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#思-考"}},[t._v("#")]),t._v(" 思 考")]),t._v(" "),e("h3",{attrs:{id:"我们采用哪种埋点方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#我们采用哪种埋点方式"}},[t._v("#")]),t._v(" 我们采用哪种埋点方式")]),t._v(" "),e("p",[t._v("全埋点 + 代码埋点结合")]),t._v(" "),e("h3",{attrs:{id:"我们要采集什么内容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#我们要采集什么内容"}},[t._v("#")]),t._v(" 我们要采集什么内容")]),t._v(" "),e("p",[t._v("采集访客 PV/UV、页面访问 UV/PV 和"),e("code",[t._v("事件模型")]),t._v("内容")]),t._v(" "),e("h3",{attrs:{id:"如何关联用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何关联用户"}},[t._v("#")]),t._v(" 如何关联用户")]),t._v(" "),e("p",[t._v("通过 cookies、session、token，使用单点系统的 userinfo")]),t._v(" "),e("h3",{attrs:{id:"如何监听-spa-页面-hash-变化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何监听-spa-页面-hash-变化"}},[t._v("#")]),t._v(" 如何监听 SPA 页面 hash 变化")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("路由守卫函数中上报")])]),t._v(" "),e("li",[e("p",[t._v("改写 "),e("code",[t._v("history.replaceState")])])])]),t._v(" "),e("h3",{attrs:{id:"如何快速接入声明式埋点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何快速接入声明式埋点"}},[t._v("#")]),t._v(" 如何快速接入声明式埋点")]),t._v(" "),e("p",[t._v("使用 vue 指令")]),t._v(" "),e("h3",{attrs:{id:"如何遍历-dom-获取上报内容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何遍历-dom-获取上报内容"}},[t._v("#")]),t._v(" 如何遍历 dom 获取上报内容")]),t._v(" "),e("p",[t._v("无需遍历，使用 vue 指令")]),t._v(" "),e("h3",{attrs:{id:"数据上传方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据上传方式"}},[t._v("#")]),t._v(" 数据上传方式")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("实时 ajax 上报")])]),t._v(" "),e("li",[e("p",[t._v("定时 ajax 上报")])])]),t._v(" "),e("h3",{attrs:{id:"上报信息缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#上报信息缓存"}},[t._v("#")]),t._v(" 上报信息缓存")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("indexdb")])]),t._v(" "),e("li",[e("p",[t._v("localStorage")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);